# 재고관리 (Inventory Management)

## 기능
- SKU 추가/수정/조회
- 입/출고

## 재고를 어떻게 테이블로 구현할것인가?
### 재고 하나당 테이블상의 행(튜플) 하나 전략 (채택)
데이터베이스에 재고를 담당하는 테이블 Inventory 를 만들고, 입고를 하면 행을 추가하고, 출고를 하면 행을 삭제합니다.
예를 들어 재고가 5개 입고 되면 테이블의 행의 갯수는 5개가 증가하고, 5개가 출고되면 행의 갯수는 5개가 감소합니다.

- 장점
    - Concurrency 문제가 없습니다.
- 단점
    - 입/출고 해야 할 재고의 갯수가 크다면 insert/delete 부하가 있을수 있습니다. 따라서 한번에 입/출고할 양의 제한을 두거나 비동기 처리 구현이 필요할수도 있습니다.

### 카운트 속성 사용
SKU 테이블에 재고의 갯수를 나타내는 컬럼을 통해 관리합니다. 예를 들어 기본키가 1인 SKU의 재고를 2개 입고하면, 해당 행의 컬럼속성(예, count: BigINT)을 증가시킵니다.

- 장점
    - 구현이 상대적으로 간편합니다.

- 단점
    - 동시에 여러건의 주문 발생시 병행성이 떨어질수 있습니다.
    - Concurrency 문제가 있을수 있습니다. 입/출고시 SERIALIIZABLE 트랜잭션 격리 전략이 필요할수 있습니다.

## 세트 상품 관련 고민

- 세트상품 역시 재고 추적 및 관리를 위한 SKU를 가져야 한다.

- 그렇다면 세트상품의 입고는 어떻게
  - 기존의 있는 재고들을 차감하여 진행
  - 그냥 진행

